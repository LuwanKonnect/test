{"openapi":"3.0.0","paths":{"/user/update":{"put":{"operationId":"UserController_update","summary":"update one user","parameters":[{"schema":{}}],"requestBody":{"required":false,"content":{"multipart/form-data":{"schema":{"allOf":[{"$ref":"#/components/schemas/UpdateDto"},{"properties":{"avatar":{"type":"string","format":"binary"}},"type":"object"}]}}}},"responses":{"201":{"description":"success"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden resource - no access"},"404":{"description":"failed"}},"tags":["User"],"security":[{"bearer":[]}]}},"/user/me":{"get":{"operationId":"UserController_getCurrentUser","summary":"Get current user info","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}}},"tags":["User"],"security":[{"bearer":[]}]}},"/user/getOneUser":{"get":{"operationId":"UserController_getOneUser","summary":"Get user info by id","parameters":[{"name":"id","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}}},"tags":["User"],"security":[{"bearer":[]}]}},"/user/checkExist":{"get":{"operationId":"UserController_checkExist","summary":"Check email, username, mobile whether exist.","parameters":[{"name":"mobile","required":false,"in":"query","description":"mobile","schema":{}},{"name":"username","required":false,"in":"query","description":"username","schema":{}},{"name":"email","required":false,"in":"query","description":"email","schema":{}}],"responses":{"200":{"description":"Exist"},"204":{"description":"Not Exist"}},"tags":["User"]}},"/auth/signUp":{"post":{"operationId":"AuthController_signUp","summary":"for user sign up","parameters":[{"schema":{}}],"requestBody":{"required":true,"description":"","content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/SignUpDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginPayloadDto"}}}},"400":{"description":"Email already in use"},"422":{"description":"The data format is not right!"},"500":{"description":"failed, system error"}},"tags":["Auth"]}},"/auth/signIn":{"post":{"operationId":"AuthController_signIn","summary":"for user sign in","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInDto"}}}},"responses":{"201":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginPayloadDto"}}}},"400":{"description":"Data format error"},"404":{"description":"Invalid username or password"},"503":{"description":"User not active"}},"tags":["Auth"]}},"/auth/adminSignIn":{"post":{"operationId":"AuthController_adminSignIn","summary":"for Admin sign in","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInDto"}}}},"responses":{"201":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginPayloadDto"}}}},"400":{"description":"Data format error"},"404":{"description":"Invalid username or password"}},"tags":["Auth"]}},"/auth/getVerificationCode":{"get":{"operationId":"AuthController_getVerificationCode","parameters":[{"name":"email","required":true,"in":"query","description":"email","schema":{"type":"string"}}],"responses":{"200":{"description":"Success"},"500":{"description":"Failed, outlook cannot use anymore"}},"tags":["Auth"]}},"/auth/verifyCode":{"post":{"operationId":"AuthController_verifyCode","parameters":[],"responses":{"201":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginPayloadDto"}}}},"404":{"description":"Invalid username or code"}},"tags":["Auth"]}},"/admin/findOne":{"get":{"operationId":"AdminController_findOneUserById","summary":"Find one user, admin only","parameters":[{"name":"id","required":true,"in":"query","schema":{"type":"string"}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"user exist"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden resource - no access"},"404":{"description":"Invalid user id"}},"tags":["Admin"],"security":[{"bearer":[]}]}},"/admin/delete":{"delete":{"operationId":"AdminController_deleteOneUserById","summary":"delete one user","parameters":[{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"success"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden resource - no access"},"404":{"description":"user id not exist"}},"tags":["Admin"],"security":[{"bearer":[]}]}},"/admin/findAll":{"get":{"operationId":"AdminController_getUsers","summary":"Find all users","parameters":[{"name":"order","required":false,"in":"query","schema":{"default":"ASC","enum":["ASC","DESC"],"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"take","required":false,"in":"query","schema":{"minimum":1,"maximum":50,"default":10,"type":"number"}},{"name":"q","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"success"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden resource - no access"},"404":{"description":"failed"}},"tags":["Admin"]}},"/stripe/me":{"get":{"operationId":"StripeController_findOne","summary":"Get current user stripe info","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StripeEntity"}}}}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/stripe/createCustomer":{"get":{"operationId":"StripeController_createCustomer","summary":"Create stripe info for current user","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StripeEntity"}}}}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/stripe/createAccount":{"post":{"operationId":"StripeController_createAccount","summary":"Create account for lender","parameters":[{"schema":{}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAccountDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StripeEntity"}}}}},"tags":["Stripe"]}},"/stripe/createCharge":{"post":{"operationId":"StripeController_createCharge","summary":"Make one off payment with registered user","parameters":[{"schema":{}}],"requestBody":{"required":true,"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChargeDto"}}}},"responses":{"201":{"description":"success"}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/stripe/oneOffPayment":{"post":{"operationId":"StripeController_oneOffPayment","summary":"Make one off payment without registered user","parameters":[{"schema":{}}],"requestBody":{"required":true,"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChargeDto"}}}},"responses":{"201":{"description":"success"}},"tags":["Stripe"]}},"/stripe/addCreditCard":{"post":{"operationId":"StripeController_addCreditCard","summary":"Add credit card record to use in stripe","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodIdDto"}}}},"responses":{"201":{"description":"success"}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/stripe/getCreditCards":{"get":{"operationId":"StripeController_getCreditCards","summary":"Get all credit cards details","parameters":[],"responses":{"200":{"description":"success"}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/stripe/deleteCreditCard":{"delete":{"operationId":"StripeController_deleteCreditCard","summary":"delete credit card by paymentMethodId","parameters":[{"name":"paymentMethodId","required":true,"in":"query","description":"paymentMethodId of the card","schema":{"type":"string"}}],"responses":{"200":{"description":"success"},"400":{"description":"Failed, check error.response.data"}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/stripe/setDefaultCard":{"post":{"operationId":"StripeController_setDefaultCard","summary":"Set default card","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodIdDto"}}}},"responses":{"201":{"description":"success"}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/stripe/createMonthlySubscription":{"post":{"operationId":"StripeController_createMonthlySubscription","summary":"Create monthly subscription","parameters":[],"responses":{"201":{"description":"success"}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/stripe/getMonthlySubscription":{"get":{"operationId":"StripeController_getMonthlySubscription","summary":"Get monthly subscription","parameters":[],"responses":{"200":{"description":"success"}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/stripe/webhooks":{"post":{"operationId":"StripeController_handleIncomingEvents","parameters":[{"name":"stripe-signature","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/stripe/cancelSubscription":{"delete":{"operationId":"StripeController_cancelSubscription","summary":"Cancel subscription.","parameters":[],"responses":{"200":{"description":"success"}},"tags":["Stripe"],"security":[{"bearer":[]}]}},"/file-upload/uploadToS3":{"post":{"operationId":"FileUploadController_create","summary":"The key name must be file","parameters":[],"responses":{"201":{"description":"success"},"401":{"description":"Unauthorized"},"500":{"description":"failed"}},"tags":["FileUpload"]}},"/file-upload/uploadManyToS3":{"post":{"operationId":"FileUploadController_uploadManyToS3","parameters":[],"responses":{"201":{"description":""}},"tags":["FileUpload"]}},"/file-upload/getFile":{"get":{"operationId":"FileUploadController_getFile","summary":"Get file from s3","parameters":[{"name":"key","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"success"},"400":{"description":"failed, the key not exist"},"401":{"description":"Unauthorized"}},"tags":["FileUpload"]}},"/file-upload/delete":{"delete":{"operationId":"FileUploadController_deleteFile","summary":"The key name must be file","parameters":[{"name":"key","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"success"},"400":{"description":"failed, the key not exist"},"401":{"description":"Unauthorized"}},"tags":["FileUpload"]}},"/availability/findOneByIdAndYear":{"get":{"operationId":"AvailabilityController_findOneByIdAndYear","parameters":[{"name":"i_id","required":true,"in":"query","schema":{"type":"number"}},{"name":"year","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Items"}}}}}},"tags":["Availability"],"security":[{"bearer":[]}]}},"/availability/temperaUpdate":{"patch":{"operationId":"AvailabilityController_temperaUpdate","parameters":[],"responses":{"200":{"description":""}},"tags":["Availability"]}},"/booking/save/{timestamp}":{"post":{"operationId":"BookingController_save","parameters":[{"name":"timestamp","required":true,"in":"path","schema":{"type":"number"}},{"schema":{}}],"requestBody":{"required":true,"description":"Booking details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"responses":{"201":{"description":"success"}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/findByUid":{"get":{"operationId":"BookingController_findByUid","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"}}}}}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/findByOwnerId":{"get":{"operationId":"BookingController_findByOwnerId","summary":"Get all bookings applied for creator","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"}}}}}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/findUnsanctionedByOwnerId":{"get":{"operationId":"BookingController_findUnsanctionedByOwnerId","summary":"Get all bookings applied for creator which are unsanctioned","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"}}}}}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/findSanctionedByOwnerId":{"get":{"operationId":"BookingController_findSanctionedByOwnerId","summary":"Get all bookings applied for creator which are sanctioned","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"}}}}}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/findUnsanctionedByOwnerIdFrom":{"get":{"operationId":"BookingController_findUnsanctionedByOwnerIdFrom","summary":"Get all bookings applied for creator which are unsanctioned from date value","parameters":[{"name":"date","required":true,"in":"query","description":"specific date","schema":{"type":"number"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"}}}}}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/findByOwnerIdSanctioned":{"get":{"operationId":"BookingController_findSanctionedByOwnerIdFrom","summary":"Get all bookings applied for creator which are sanctioned from date value","parameters":[{"name":"date","required":true,"in":"query","description":"specific date","schema":{"type":"number"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"}}}}}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/findByBid":{"get":{"operationId":"BookingController_findByEid","summary":"Get bookings by specific Booking ID","parameters":[{"name":"b_id","required":true,"in":"query","description":"Booking ID","schema":{"type":"string"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/update":{"put":{"operationId":"BookingController_update","parameters":[],"requestBody":{"required":true,"description":"Booking details, must have b_id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"responses":{"201":{"description":"success"}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/reject":{"get":{"operationId":"BookingController_reject","summary":"reject bookings by specific Booking ID","parameters":[{"name":"b_id","required":true,"in":"query","description":"Booking ID","schema":{"type":"string"}}],"responses":{"201":{"description":"success"}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/approve":{"get":{"operationId":"BookingController_","summary":"approve bookings by specific Booking ID","parameters":[{"name":"b_id","required":true,"in":"query","description":"Booking ID","schema":{}}],"responses":{"201":{"description":"success"}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/delete":{"delete":{"operationId":"BookingController_delete","parameters":[{"name":"b_id","required":true,"in":"query","description":"Booking ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Delete Success"}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/booking/search":{"get":{"operationId":"BookingController_search","summary":"if no search value, return all","parameters":[{"name":"keyword","required":true,"in":"query","description":"User input search keyword","schema":{"type":"string"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"}}}}}},"tags":["Booking"],"security":[{"bearer":[]}]}},"/borrowerRating/save":{"post":{"operationId":"BorrowerRatingController_save","parameters":[{"schema":{}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"description":"BorrowerRating details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowerRating"}}}},"responses":{"201":{"description":"success"}},"tags":["borrowerRating"]}},"/borrowerRating/findByUid":{"get":{"operationId":"BorrowerRatingController_findByUid","summary":"user is borrower, get all rating","parameters":[{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BorrowerRating"}}}}}},"tags":["borrowerRating"]}},"/borrowerRating/findByBookingId":{"get":{"operationId":"BorrowerRatingController_findByBookingId","summary":"find by booking id","parameters":[{"name":"b_id","required":true,"in":"query","description":"Booking ID","schema":{"type":"string"}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BorrowerRating"}}}}}},"tags":["borrowerRating"]}},"/borrowerRating/update":{"put":{"operationId":"BorrowerRatingController_update","parameters":[{"schema":{}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"description":"BorrowerRating details, must have r_id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowerRating"}}}},"responses":{"201":{"description":"success"}},"tags":["borrowerRating"]}},"/borrowerRating/delete":{"delete":{"operationId":"BorrowerRatingController_delete","summary":"lender delete comments","parameters":[{"name":"r_id","required":true,"in":"query","description":"BorrowerRating ID","schema":{"type":"string"}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}},{"name":"u_id","required":true,"in":"query","description":"User ID","schema":{}}],"responses":{"200":{"description":"Delete Success"},"500":{"description":"delete failed"}},"tags":["borrowerRating"]}},"/comments/save":{"post":{"operationId":"CommentsController_save","parameters":[{"schema":{}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"description":"Comments details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Comments"}}}},"responses":{"201":{"description":"success"}},"tags":["Comments"]}},"/comments/findByUid":{"get":{"operationId":"CommentsController_findByUid","summary":"Get comments posted by user, for future use.","parameters":[{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Comments"}}}}}},"tags":["Comments"]}},"/comments/update":{"put":{"operationId":"CommentsController_update","summary":"update comments, for future use.","parameters":[{"schema":{}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"description":"Comments details, c_id is required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Comments"}}}},"responses":{"201":{"description":"success"}},"tags":["Comments"]}},"/comments/delete":{"delete":{"operationId":"CommentsController_delete","summary":"Delete comments by specific ID, only user can delete, owner can't","parameters":[{"name":"c_id","required":true,"in":"query","description":"Comment ID","schema":{"type":"string"}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Delete Success"},"203":{"description":"Comments not exist"}},"tags":["Comments"]}},"/items/save":{"post":{"operationId":"ItemsController_save","parameters":[{"schema":{}}],"requestBody":{"required":true,"description":"Items details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Items"}}}},"responses":{"201":{"description":"success"}},"tags":["Items"],"security":[{"bearer":[]}]}},"/items/findByUid":{"get":{"operationId":"ItemsController_findByUid","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Items"}}}}}},"tags":["Items"],"security":[{"bearer":[]}]}},"/items/findSameOwnerItem":{"get":{"operationId":"ItemsController_findSameOwnerItem","summary":"Get same owner available items created by user","parameters":[{"name":"i_id","required":true,"in":"query","schema":{"type":"number"}},{"name":"u_id","required":true,"in":"query","schema":{"type":"string"}},{"name":"start","required":true,"in":"query","schema":{"type":"number"}},{"name":"end","required":true,"in":"query","schema":{"type":"number"}},{"name":"year","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Items"}}}}}},"tags":["Items"],"security":[{"bearer":[]}]}},"/items/findByIid":{"get":{"operationId":"ItemsController_findByIid","parameters":[{"name":"i_id","required":true,"in":"query","description":"Items ID","schema":{"type":"string"}},{"name":"u_id","required":true,"in":"query","description":"User ID","schema":{"type":"string"}}],"responses":{"200":{"description":"success"}},"tags":["Items"]}},"/items/update":{"put":{"operationId":"ItemsController_update","parameters":[{"schema":{}}],"requestBody":{"required":true,"description":"Items details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateItemDto"}}}},"responses":{"201":{"description":"success"}},"tags":["Items"],"security":[{"bearer":[]}]}},"/items/delete":{"delete":{"operationId":"ItemsController_delete","parameters":[{"name":"i_id","required":true,"in":"query","description":"Items ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Delete Success"},"203":{"description":"Items not exist"}},"tags":["Items"],"security":[{"bearer":[]}]}},"/items/search":{"get":{"operationId":"ItemsController_search","summary":"if no search value, return all","parameters":[{"name":"keyword","description":"search for title or description","required":false,"in":"query","schema":{"type":"string"}},{"name":"distance","required":false,"in":"query","schema":{"type":"number"}},{"required":false,"description":"lat","name":"lat","in":"query","schema":{"type":"number"}},{"required":false,"description":"lng","name":"lng","in":"query","schema":{"type":"number"}},{"name":"category","required":false,"in":"query","schema":{"type":"string"}},{"name":"minPrice","required":false,"in":"query","schema":{"type":"number"}},{"name":"maxPrice","required":false,"in":"query","schema":{"type":"number"}},{"name":"rating","description":"max is 5","required":false,"in":"query","schema":{"type":"number"}},{"name":"delivery","required":false,"in":"query","schema":{"type":"number"}},{"name":"start","description":"start date","required":false,"in":"query","schema":{"type":"number"}},{"name":"end","description":"end date","required":false,"in":"query","schema":{"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"distance","required":false,"in":"query","schema":{"type":"number"}},{"name":"lat","required":false,"in":"query","description":"lat","schema":{"type":"number"}},{"name":"lng","required":false,"in":"query","description":"lng","schema":{"type":"number"}},{"name":"category","required":false,"in":"query","schema":{"type":"string"}},{"name":"minPrice","required":false,"in":"query","schema":{"type":"number"}},{"name":"maxPrice","required":false,"in":"query","schema":{"type":"number"}},{"name":"rating","required":false,"in":"query","description":"max is 5","schema":{"type":"number"}},{"name":"delivery","required":false,"in":"query","schema":{"type":"number"}},{"name":"start","required":false,"in":"query","description":"start date","schema":{"type":"number"}},{"name":"end","required":false,"in":"query","description":"end date","schema":{"type":"number"}},{"name":"offset","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Items"}}}}}},"tags":["Items"]}},"/liked/save":{"post":{"operationId":"LikedController_save","parameters":[{"schema":{}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"description":"Liked details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Liked"}}}},"responses":{"201":{"description":"success"}},"tags":["Liked"]}},"/liked/findByUid":{"get":{"operationId":"LikedController_findByUid","parameters":[{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Liked"}}}}}},"tags":["Liked"]}},"/liked/findByLid":{"get":{"operationId":"LikedController_findByLid","parameters":[{"name":"l_id","required":true,"in":"query","description":"Liked ID","schema":{"type":"string"}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Liked"}}}}},"tags":["Liked"]}},"/liked/delete":{"delete":{"operationId":"LikedController_delete","parameters":[{"name":"i_id","required":true,"in":"query","description":"Item ID","schema":{"type":"string"}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Delete Success"}},"tags":["Liked"]}},"/lenderRating/save":{"post":{"operationId":"LenderRatingController_save","parameters":[{"schema":{}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"description":"LenderRating details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LenderRating"}}}},"responses":{"201":{"description":"success"}},"tags":["lenderRating"]}},"/lenderRating/findByUid":{"get":{"operationId":"LenderRatingController_findByUid","summary":"user is lender, get all rating","parameters":[{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LenderRating"}}}}}},"tags":["lenderRating"]}},"/lenderRating/findByBookingId":{"get":{"operationId":"LenderRatingController_findByBookingId","summary":"find by booking id","parameters":[{"name":"b_id","required":true,"in":"query","description":"Booking ID","schema":{"type":"string"}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LenderRating"}}}}}},"tags":["lenderRating"]}},"/lenderRating/update":{"put":{"operationId":"LenderRatingController_update","parameters":[{"schema":{}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"description":"LenderRating details, must have r_id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LenderRating"}}}},"responses":{"201":{"description":"success"}},"tags":["lenderRating"]}},"/lenderRating/delete":{"delete":{"operationId":"LenderRatingController_delete","summary":"lender delete comments","parameters":[{"name":"r_id","required":true,"in":"query","description":"LenderRating ID","schema":{"type":"string"}},{"name":"authorization","in":"header","description":"need token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Delete Success"},"203":{"description":"LenderRating not exist"}},"tags":["lenderRating"]}}},"info":{"title":"Little Big Shed","description":"The API description","version":"1.0","contact":{}},"tags":[{"name":"User","description":""}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"UpdateDto":{"type":"object","properties":{"fullName":{"type":"string","description":"fullName","example":"Andrew Owen"},"email":{"type":"string","example":"tester1@gmail.com"},"avatar":{"type":"string"},"mobile":{"type":"string","example":"0450123456","description":"Must be Australia mobile"},"address":{"type":"string","description":"address"},"lat":{"type":"number","description":"lat"},"lng":{"type":"number","description":"lng"},"suburb":{"type":"string","description":"suburb"},"bsb":{"type":"string","description":"bsb"},"account_number":{"type":"string","description":"account_number"},"lender_rating":{"type":"number","example":5,"description":"rating score as a lender."},"borrower_rating":{"type":"number","example":5,"description":"rating score as a borrower"},"available":{"type":"string","example":"11010111001100","description":"will set default to all 1"},"password":{"type":"string","description":"Password, length: 8-20, can be symbol, number, character mixed, cannot be pure number or character, like [\"abcd1234@\", \"abcd1234\"]","example":"abcd1234@"}},"required":["password"]},"UserResponseDto":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"fullName":{"type":"string","description":"fullName","example":"Andrew Owen"},"email":{"type":"string","example":"tester1@gmail.com"},"avatar":{"type":"string"},"mobile":{"type":"string","example":"0450123456","description":"Must be Australia mobile"},"address":{"type":"string","description":"address"},"lat":{"type":"number","description":"lat"},"lng":{"type":"number","description":"lng"},"suburb":{"type":"string","description":"suburb"},"bsb":{"type":"string","description":"bsb"},"account_number":{"type":"string","description":"account_number"},"lender_rating":{"type":"number","example":5,"description":"rating score as a lender."},"borrower_rating":{"type":"number","example":5,"description":"rating score as a borrower"},"available":{"type":"string","example":"11010111001100","description":"will set default to all 1"}},"required":["id","createdAt","updatedAt","fullName","email","mobile"]},"SignUpDto":{"type":"object","properties":{"fullName":{"type":"string","description":"fullName","example":"Andrew Owen"},"email":{"type":"string","example":"tester1@gmail.com"},"avatar":{"type":"string"},"mobile":{"type":"string","example":"0450123456","description":"Must be Australia mobile"},"address":{"type":"string","description":"address"},"lat":{"type":"number","description":"lat"},"lng":{"type":"number","description":"lng"},"suburb":{"type":"string","description":"suburb"},"bsb":{"type":"string","description":"bsb"},"account_number":{"type":"string","description":"account_number"},"lender_rating":{"type":"number","example":5,"description":"rating score as a lender."},"borrower_rating":{"type":"number","example":5,"description":"rating score as a borrower"},"available":{"type":"string","example":"11010111001100","description":"will set default to all 1"},"password":{"type":"string","description":"Password, length: 8-20, can be symbol, number, character mixed, cannot be pure number or character, like [\"abcd1234@\", \"abcd1234\"]","example":"abcd1234@"}},"required":["fullName","email","mobile","password"]},"UserDto":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"fullName":{"type":"string","description":"fullName","example":"Andrew Owen"},"email":{"type":"string","example":"tester1@gmail.com"},"avatar":{"type":"string"},"mobile":{"type":"string","example":"0450123456","description":"Must be Australia mobile"},"address":{"type":"string","description":"address"},"lat":{"type":"number","description":"lat"},"lng":{"type":"number","description":"lng"},"suburb":{"type":"string","description":"suburb"},"bsb":{"type":"string","description":"bsb"},"account_number":{"type":"string","description":"account_number"},"lender_rating":{"type":"number","example":5,"description":"rating score as a lender."},"borrower_rating":{"type":"number","example":5,"description":"rating score as a borrower"},"available":{"type":"string","example":"11010111001100","description":"will set default to all 1"}},"required":["id","createdAt","updatedAt","fullName","email","mobile"]},"TokenPayloadDto":{"type":"object","properties":{"expiresIn":{"type":"number"},"accessToken":{"type":"string"}},"required":["expiresIn","accessToken"]},"LoginPayloadDto":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/UserDto"},"token":{"$ref":"#/components/schemas/TokenPayloadDto"}},"required":["user","token"]},"SignInDto":{"type":"object","properties":{"password":{"type":"string","example":"abcd1234@","description":"Password, length: 8-20"},"email":{"type":"string","example":"tester1@gmail.com","description":"Email"}},"required":["password","email"]},"StripeEntity":{"type":"object","properties":{"u_id":{"type":"string","description":"User ID"},"customerId":{"type":"string","description":"Customer ID"},"accountId":{"type":"string","description":"Account ID"},"subscriptionId":{"type":"string","description":"Subscription ID"},"created":{"format":"date-time","type":"string"},"updated":{"format":"date-time","type":"string"}},"required":["u_id","customerId","accountId","subscriptionId"]},"CreateAccountDto":{"type":"object","properties":{"email":{"type":"string"},"bsb":{"type":"object"},"accountNumber":{"type":"object"},"firstName":{"type":"string"},"lastName":{"type":"string"},"day":{"type":"object"},"month":{"type":"object"},"year":{"type":"object"},"city":{"type":"object"},"country":{"type":"object"},"line1":{"type":"object"},"postal_code":{"type":"object"},"state":{"type":"object"}},"required":["email","bsb","accountNumber","firstName","lastName","day","month","year","city","country","line1","postal_code","state"]},"CreateChargeDto":{"type":"object","properties":{"paymentMethodId":{"type":"string"},"amount":{"type":"number"}},"required":["paymentMethodId","amount"]},"PaymentMethodIdDto":{"type":"object","properties":{"paymentMethodId":{"type":"string"}},"required":["paymentMethodId"]},"Items":{"type":"object","properties":{"i_id":{"type":"number","description":"item ID"},"u_id":{"type":"string","description":"User ID"},"title":{"type":"string","description":"title"},"category":{"type":"string","description":"category"},"pictures":{"type":"string","description":"pictures, maximum is 9"},"description":{"type":"string","description":"Description"},"price":{"type":"number","description":"Price"},"deliveryPrice":{"type":"number","description":"delivery Price"},"rating":{"type":"number","description":"rating score"},"discount":{"type":"number","description":"discount for off peak"},"available":{"type":"string","example":"11010111001100","description":"will set default to all 1"},"lat":{"type":"number","description":"lat"},"lng":{"type":"number","description":"lng"},"address":{"type":"string","description":"address"},"suburb":{"type":"string","description":"suburb"},"created":{"format":"date-time","type":"string"},"updated":{"format":"date-time","type":"string"}},"required":["u_id","title","category","description","price","lat","lng"]},"Booking":{"type":"object","properties":{"b_id":{"type":"number","description":"Booking ID"},"u_id":{"type":"string","description":"User ID"},"i_id":{"type":"number","description":"item id"},"io_id":{"type":"string","description":"item owner id - user id"},"status":{"type":"number","description":"1 is apply, 0 is reject, 2 is reschedule, 3 is approve , 4 for borrow picked up, 5 for lender confirms pickup, 6 for both confirm, 7 for return"},"error":{"type":"boolean","description":"whether error happens"},"deliveryOption":{"type":"string","enum":["delivery","pickup","both","none"],"description":"delivery Option"},"startDate":{"type":"number","description":"start time"},"address":{"type":"string","description":"address for delivery/pickup"},"endDate":{"type":"number","description":"end time"},"year":{"type":"number","description":"Year"},"price":{"type":"number","description":"Price"},"created":{"format":"date-time","type":"string"},"updated":{"format":"date-time","type":"string"}},"required":["u_id","i_id","io_id","status","error","deliveryOption","startDate","address","endDate","year","price"]},"BorrowerRating":{"type":"object","properties":{"r_id":{"type":"number","description":"Rating ID"},"b_id":{"type":"string","description":"Borrower User ID"},"l_id":{"type":"string","description":"Lender User ID"},"booking_id":{"type":"number","description":"Booking ID"},"lender_comment":{"type":"string","description":"lender comments borrower"},"lender_rating":{"type":"number","description":"rating score as borrower"},"created":{"format":"date-time","type":"string"},"updated":{"format":"date-time","type":"string"}},"required":["b_id","l_id","booking_id","lender_comment"]},"Comments":{"type":"object","properties":{"c_id":{"type":"number","description":"Comment ID"},"u_id":{"type":"string","description":"User ID"},"i_id":{"type":"number","description":"items id"},"content":{"type":"string","description":"Comment content"},"rating":{"type":"number","description":"Comment content"},"created":{"format":"date-time","type":"string"},"updated":{"format":"date-time","type":"string"}},"required":["u_id","i_id","content","rating"]},"UpdateItemDto":{"type":"object","properties":{"u_id":{"type":"string","description":"User ID"},"title":{"type":"string","description":"title"},"category":{"type":"string","description":"category"},"pictures":{"type":"string","description":"pictures, maximum is 9"},"description":{"type":"string","description":"Description"},"price":{"type":"number","description":"Price"},"deliveryPrice":{"type":"number","description":"delivery Price"},"rating":{"type":"number","description":"rating score"},"discount":{"type":"number","description":"discount for off peak"},"available":{"type":"string","example":"11010111001100","description":"will set default to all 1"},"lat":{"type":"number","description":"lat"},"lng":{"type":"number","description":"lng"},"address":{"type":"string","description":"address"},"suburb":{"type":"string","description":"suburb"},"deletedImages":{"type":"string","description":"images be deleted, separate by comma, image1,image2"},"newImages":{"description":"new file","type":"array","items":{"type":"string"}},"i_id":{"type":"number","description":"item ID, must provide"}},"required":["i_id"]},"Liked":{"type":"object","properties":{"l_id":{"type":"number","description":"Liked record ID"},"u_id":{"type":"string","description":"User ID"},"i_id":{"type":"number","description":"item id"},"created":{"format":"date-time","type":"string"},"updated":{"format":"date-time","type":"string"}},"required":["u_id","i_id"]},"LenderRating":{"type":"object","properties":{"r_id":{"type":"number","description":"Rating ID"},"b_id":{"type":"string","description":"Borrower User ID"},"l_id":{"type":"string","description":"Lender User ID"},"booking_id":{"type":"number","description":"Booking ID"},"borrower_comment":{"type":"string","description":"borrower comments lender"},"borrower_rating":{"type":"number","description":"rating score as a lender"},"created":{"format":"date-time","type":"string"},"updated":{"format":"date-time","type":"string"}},"required":["b_id","l_id","booking_id","borrower_comment"]}}}}